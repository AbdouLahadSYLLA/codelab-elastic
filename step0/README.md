# Step 0 - Start Elasticsearch / Kibana / Filebeat and the monitored application

Our application is based on a Front application using Angular and a NodeJS REST API.

* In order to launch the demo app, you should run the following command

```shell
git clone https://github.com/Gillespie59/devoxx-universite-elastic -b nightclazz
cd devoxx-universite-elastic/step0
docker-compose up
```

* Open your browser at http://localhost to check if the application is available

* You can also access to the REST API. Here are the differents URLs we have.

  * GET http://localhost:8080/rest/products
  * GET http://localhost:8080/rest/fake/url returning 404
  * GET http://localhost:8080/rest/long/task returning 200 after 5s
  * GET http://localhost:8080/rest/weather calling an external service

* In the previous docker-compose file, we also defined everything needed to start our logs management system.
  * Have a look to the response of GET http://localhost:9200 to check if the Elasticsearch cluster is UP
  * Go to http://localhost:5601 to check if the Kibana UI is available.

We will now enable Filebeat and index and visualize the logs generated by NGINX.

* Download Filebeat

```shell
curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-6.2.3-darwin-x86_64.tar.gz
tar xzvf filebeat-6.2.3-darwin-x86_64.tar.gz
```

* In order to start you should executed the following commands :

```shell
sudo bin/filebeat -e -c config/filebeat/filebeat.yml
```

* You should see new Kibana dashboards available. If you emulate visitors on your application, you should see hits in the Kibana UI.
  * For emulating visitors, you can manually refresh the web page of the monitored application
  * or use the `ab` tool : `ab -n 100000 -c 1 http://127.0.0.1:80/index.html`

Our two speakers will explains the configuration of this step 0

## Next step

Look at [step1-setup-elaticsearch-kibana](https://github.com/Gillespie59/devoxx-universite-elastic/tree/master/step1)
